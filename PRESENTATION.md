# GradMood: ะะฝััะฐััััะบัััะฐ ะฟัะพะตะบัะฐ
## ะัะตะทะตะฝัะฐัะธั ะฐััะธัะตะบัััั ัะธััะตะผั

---

## ะกะปะฐะนะด 1: ะะฑะทะพั ะฟัะพะตะบัะฐ

### GradMood Bot
**Telegram-ะฑะพั ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ ะฒัะณะพัะฐะฝะธั ัััะดะตะฝัะพะฒ**

- ๐ ะขะตัั Copenhagen Burnout Inventory (CBI)
- ๐ ะะตะฑ-ะดะฐัะฑะพัะด ะดะปั ะฐะฝะฐะปะธัะธะบะธ
- ๐๏ธ PostgreSQL ะฑะฐะทะฐ ะดะฐะฝะฝัั
- ๐๏ธ Clean Architecture

---

## ะกะปะฐะนะด 2: ะขะตัะฝะพะปะพะณะธัะตัะบะธะน ััะตะบ

### Backend
```
Python 3.11
โโโ python-telegram-bot 20.7
โโโ Flask 3.0.0
โโโ SQLAlchemy 2.0.23
โโโ Alembic 1.12.1
```

### Database
```
PostgreSQL 15
```

### Infrastructure
```
Docker + Docker Compose
```

### Frontend
```
HTML5 + CSS3 + JavaScript
Chart.js 4.4.0
```

---

## ะกะปะฐะนะด 3: ะััะธัะตะบัััะฐ ัะธััะตะผั

```
โโโโโโโโโโโโโโโ
โ   Telegram  โ
โ    Users    โ
โโโโโโโโฌโโโโโโโ
       โ
       โผ
โโโโโโโโโโโโโโโโโโโ
โ  Telegram Bot   โ
โ     (Handlers)  โ
โโโโโโโโฌโโโโโโโโโโโ
       โ
       โผ
โโโโโโโโโโโโโโโโโโโ      โโโโโโโโโโโโโโโโ
โ    Services     โโโโโโโถโ  Repository  โ
โโโโโโโโฌโโโโโโโโโโโ      โโโโโโโโฌโโโโโโโโ
       โ                        โ
       โโโโโโโโโโโโโโโโโโโโโโโโโโ
                    โ
                    โผ
         โโโโโโโโโโโโโโโโโโโโ
         โ   PostgreSQL     โ
         โโโโโโโโโโโโโโโโโโโโ
```

---

## ะกะปะฐะนะด 4: ะกะปะพะธััะฐั ะฐััะธัะตะบัััะฐ

### 5 ะพัะฝะพะฒะฝัั ัะปะพะตะฒ

1. **Models** โ ะะพะดะตะปะธ ะดะฐะฝะฝัั (SQLAlchemy ORM)
2. **Repository** โ ะะพัััะฟ ะบ ะดะฐะฝะฝัะผ
3. **Services** โ ะะธะทะฝะตั-ะปะพะณะธะบะฐ
4. **Handlers** โ ะะฑัะฐะฑะพัะบะฐ ะทะฐะฟัะพัะพะฒ ะฑะพัะฐ
5. **API** โ REST API ะดะปั ะดะฐัะฑะพัะดะฐ

**ะัะธะฝัะธะฟ:** ะะฐะถะดัะน ัะปะพะน ะทะฐะฒะธัะธั ัะพะปัะบะพ ะพั ะฝะธะถะฝะธั ัะปะพะตะฒ

---

## ะกะปะฐะนะด 5: ะะพะดะตะปะธ ะดะฐะฝะฝัั

### User (ะะพะปัะทะพะฒะฐัะตะปั)
- `id` โ ะฟะตัะฒะธัะฝัะน ะบะปัั
- `telegram_id` โ ID ะฒ Telegram
- `language` โ ัะทัะบ ะธะฝัะตััะตะนัะฐ
- `created_at`, `updated_at` โ ะฒัะตะผะตะฝะฝัะต ะผะตัะบะธ

### TestResult (ะะตะทัะปััะฐั ัะตััะฐ)
- `id` โ ะฟะตัะฒะธัะฝัะน ะบะปัั
- `user_id` โ ัะฒัะทั ั ะฟะพะปัะทะพะฒะฐัะตะปะตะผ
- `personal_burnout` โ ะปะธัะฝะพะต ะฒัะณะพัะฐะฝะธะต
- `study_burnout` โ ััะตะฑะฝะพะต ะฒัะณะพัะฐะฝะธะต
- `total_burnout` โ ะพะฑัะตะต ะฒัะณะพัะฐะฝะธะต
- `created_at` โ ะดะฐัะฐ ะฟัะพัะพะถะดะตะฝะธั

**ะกะฒัะทั:** User 1:N TestResult

---

## ะกะปะฐะนะด 6: Repository Pattern

### ะะฐะทะฝะฐัะตะฝะธะต
ะะฑัััะฐะบัะธั ัะฐะฑะพัั ั ะฑะฐะทะพะน ะดะฐะฝะฝัั

### ะัะธะผะตัั ะผะตัะพะดะพะฒ
```python
UserRepository:
  - get_by_telegram_id()
  - create()
  - update_language()

TestResultRepository:
  - create()
  - get_by_user_id()
  - get_recent()
  - get_statistics()
```

**ะัะตะธะผััะตััะฒะฐ:**
- ะะทะพะปััะธั SQL-ะบะพะดะฐ
- ะะตะณะบะพะต ัะตััะธัะพะฒะฐะฝะธะต
- ะะตัะตะธัะฟะพะปัะทะพะฒะฐะฝะธะต

---

## ะกะปะฐะนะด 7: Services Layer

### ะะธะทะฝะตั-ะปะพะณะธะบะฐ

**UserService**
- ะฃะฟัะฐะฒะปะตะฝะธะต ะฟะพะปัะทะพะฒะฐัะตะปัะผะธ
- ะะฐะฑะพัะฐ ั ัะทัะบะพะฒัะผะธ ะฝะฐัััะพะนะบะฐะผะธ

**TestService**
- ะะฐััะตั ะฑะฐะปะปะพะฒ ะฒัะณะพัะฐะฝะธั
- ะกะพััะฐะฝะตะฝะธะต ัะตะทัะปััะฐัะพะฒ
- ะะพะปััะตะฝะธะต ะธััะพัะธะธ ัะตััะพะฒ

**StatisticsService**
- ะะณัะตะณะฐัะธั ััะฐัะธััะธะบะธ
- ะะฐััะตั ััะตะดะฝะธั ะทะฝะฐัะตะฝะธะน

---

## ะกะปะฐะนะด 8: Handlers (ะะฑัะฐะฑะพััะธะบะธ ะฑะพัะฐ)

### ะัะธะฝััะพะฝะฝะฐั ะพะฑัะฐะฑะพัะบะฐ

**StartHandler** โ ะบะพะผะฐะฝะดะฐ /start
- ะัะฑะพั ัะทัะบะฐ
- ะะฝะธัะธะฐะปะธะทะฐัะธั ะฟะพะปัะทะพะฒะฐัะตะปั

**TestHandler** โ ะฟัะพัะพะถะดะตะฝะธะต ัะตััะฐ
- ะัะพะฑัะฐะถะตะฝะธะต ะฒะพะฟัะพัะพะฒ
- ะะฑัะฐะฑะพัะบะฐ ะพัะฒะตัะพะฒ
- ะะฐััะตั ัะตะทัะปััะฐัะพะฒ

**MenuHandler** โ ะฝะฐะฒะธะณะฐัะธั
- ะััะพัะธั ัะตััะพะฒ
- ะกัะฐัะธััะธะบะฐ
- ะะฐัััะพะนะบะธ

---

## ะกะปะฐะนะด 9: REST API

### Endpoints ะดะปั ะดะฐัะฑะพัะดะฐ

```
GET /api/users
  โ ะกะฟะธัะพะบ ะฒัะตั ะฟะพะปัะทะพะฒะฐัะตะปะตะน ั ัะตััะฐะผะธ

GET /api/statistics
  โ ะะฑัะฐั ััะฐัะธััะธะบะฐ ะฟะพ ะฒัะตะผ ะฟะพะปัะทะพะฒะฐัะตะปัะผ

GET /api/recent-tests
  โ ะะพัะปะตะดะฝะธะต 50 ัะตััะพะฒ
```

**ะขะตัะฝะพะปะพะณะธั:** Flask Blueprint

---

## ะกะปะฐะนะด 10: ะะพัะพะบ ะดะฐะฝะฝัั

### ะัะพัะพะถะดะตะฝะธะต ัะตััะฐ

```
1. User โ /start
   โ
2. StartHandler โ UserService
   โ
3. UserRepository โ Database
   โ
4. TestHandler โ TestService
   โ
5. TestResultRepository โ Database
   โ
6. Results โ User
```

---

## ะกะปะฐะนะด 11: ะะฝััะฐััััะบัััะฐ ัะฐะทะฒะตัััะฒะฐะฝะธั

### Docker Compose

```yaml
Services:
  db:
    - PostgreSQL 15
    - Volume: postgres_data
    - Health Check
    
  gradmood:
    - Application
    - Depends on: db
    - Port: 5000
```

**ะัะตะธะผััะตััะฒะฐ:**
- ะััััะพะต ัะฐะทะฒะตัััะฒะฐะฝะธะต
- ะะทะพะปััะธั ะพะบััะถะตะฝะธะน
- ะะฐัััะฐะฑะธััะตะผะพััั

---

## ะกะปะฐะนะด 12: ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
GradMood/
โโโ app/
โ   โโโ models/        # ORM ะผะพะดะตะปะธ
โ   โโโ repository/    # ะะพัััะฟ ะบ ะดะฐะฝะฝัะผ
โ   โโโ services/      # ะะธะทะฝะตั-ะปะพะณะธะบะฐ
โ   โโโ handlers/      # ะะฑัะฐะฑะพััะธะบะธ ะฑะพัะฐ
โ   โโโ api/          # REST API
โ   โโโ config/       # ะะพะฝัะธะณััะฐัะธั
โ   โโโ utils/        # ะฃัะธะปะธัั
โโโ migrations/       # ะะธะณัะฐัะธะธ ะะ
โโโ templates/        # HTML ัะฐะฑะปะพะฝั
```

**ะัะธะฝัะธะฟ:** ะะพะดัะปัะฝะพััั ะธ ัะฐะทะดะตะปะตะฝะธะต ะพัะฒะตัััะฒะตะฝะฝะพััะธ

---

## ะกะปะฐะนะด 13: ะัะตะธะผััะตััะฒะฐ ะฐััะธัะตะบัััั

### โ ะะพะดัะปัะฝะพััั
- ะงะตัะบะพะต ัะฐะทะดะตะปะตะฝะธะต ัะปะพะตะฒ
- ะะตะณะบะฐั ะทะฐะผะตะฝะฐ ะบะพะผะฟะพะฝะตะฝัะพะฒ

### โ ะะฐัััะฐะฑะธััะตะผะพััั
- ะะพัะธะทะพะฝัะฐะปัะฝะพะต ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต
- ะะฟัะธะผะธะทะฐัะธั ะฟัะพะธะทะฒะพะดะธัะตะปัะฝะพััะธ

### โ ะะพะดะดะตัะถะธะฒะฐะตะผะพััั
- ะงะธัััะน ะบะพะด
- ะกัะฐะฝะดะฐััะฝัะต ะฟะฐััะตัะฝั

### โ ะะฐะดะตะถะฝะพััั
- ะขัะฐะฝะทะฐะบัะธะธ ะะ
- Health checks

---

## ะกะปะฐะนะด 14: ะะปััะตะฒัะต ะฟะพะบะฐะทะฐัะตะปะธ

| ะะฐัะฐะผะตัั | ะะฝะฐัะตะฝะธะต |
|----------|----------|
| ะกะปะพะตะฒ ะฐััะธัะตะบัััั | 5 |
| ะะพะดะตะปะตะน ะดะฐะฝะฝัั | 2 |
| API endpoints | 3 |
| Handlers | 4 |
| Services | 3 |
| ะขะตัะฝะพะปะพะณะธะน | 10+ |
| ะัะตะผั ัะฐะทะฒะตัััะฒะฐะฝะธั | < 2 ะผะธะฝ |

---

## ะกะปะฐะนะด 15: ะะฐัััะฐะฑะธััะตะผะพััั

### ะะพัะธะทะพะฝัะฐะปัะฝะพะต ะผะฐัััะฐะฑะธัะพะฒะฐะฝะธะต
- Stateless ะฐััะธัะตะบัััะฐ
- ะะตัะบะพะปัะบะพ ัะบะทะตะผะฟะปััะพะฒ ะฑะพัะฐ
- ะะตะฟะปะธะบะฐัะธั PostgreSQL

### ะะฟัะธะผะธะทะฐัะธั
- Connection pooling
- ะะฝะดะตะบัั ะะ
- ะััะธัะพะฒะฐะฝะธะต (ะฒะพะทะผะพะถะฝะพ)

---

## ะกะปะฐะนะด 16: ะะตะทะพะฟะฐัะฝะพััั

### ะะตะฐะปะธะทะพะฒะฐะฝะพ
- โ ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั
- โ SQL Injection ะทะฐัะธัะฐ (ORM)
- โ ะะทะพะปััะธั ะบะพะฝัะตะนะฝะตัะพะฒ

### ะะตะบะพะผะตะฝะดะฐัะธะธ
- HTTPS ะดะปั production
- ะััะตะฝัะธัะธะบะฐัะธั API
- Rate limiting
- Backup ะะ

---

## ะกะปะฐะนะด 17: ะะพะฝะธัะพัะธะฝะณ ะธ ะผะตััะธะบะธ

### ะะพัััะฟะฝัะต ะผะตััะธะบะธ
- ะะพะปะธัะตััะฒะพ ะฟะพะปัะทะพะฒะฐัะตะปะตะน
- ะะพะปะธัะตััะฒะพ ัะตััะพะฒ
- ะกัะตะดะฝะธะต ะฟะพะบะฐะทะฐัะตะปะธ ะฒัะณะพัะฐะฝะธั
- ะขัะตะฝะดั ะฟะพ ะฒัะตะผะตะฝะธ

### ะะพะทะผะพะถะฝะพััะธ ัะฐััะธัะตะฝะธั
- ะกัััะบัััะธัะพะฒะฐะฝะฝะพะต ะปะพะณะธัะพะฒะฐะฝะธะต
- Prometheus ะผะตััะธะบะธ
- Health check endpoints

---

## ะกะปะฐะนะด 18: ะัะพะณะธ

### ะงัะพ ัะตะฐะปะธะทะพะฒะฐะฝะพ
โ Clean Architecture  
โ PostgreSQL ะฑะฐะทะฐ ะดะฐะฝะฝัั  
โ Docker ะบะพะฝัะตะนะฝะตัะธะทะฐัะธั  
โ REST API ะดะปั ะดะฐัะฑะพัะดะฐ  
โ ะะพะดัะปัะฝะฐั ััััะบัััะฐ  

### ะะตะทัะปััะฐั
ะัะพัะตััะธะพะฝะฐะปัะฝะฐั, ะผะฐัััะฐะฑะธััะตะผะฐั ะธ ะฟะพะดะดะตัะถะธะฒะฐะตะผะฐั ัะธััะตะผะฐ

---

## ะกะปะฐะนะด 19: ะกะฟะฐัะธะฑะพ ะทะฐ ะฒะฝะธะผะฐะฝะธะต!

### GradMood Bot
**ะัะพัะตััะธะพะฝะฐะปัะฝะฐั ะฐััะธัะตะบัััะฐ ะดะปั ะผะพะฝะธัะพัะธะฝะณะฐ ะฒัะณะพัะฐะฝะธั**

ะะพะฟัะพัั?
